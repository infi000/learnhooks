{"ast":null,"code":"import _classCallCheck from \"/Users/sf/Desktop/zcy/hooksdemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sf/Desktop/zcy/hooksdemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sf/Desktop/zcy/hooksdemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sf/Desktop/zcy/hooksdemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sf/Desktop/zcy/hooksdemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport { Component } from \"react\"; //废弃componentWillMount, componentWillReceiveProps, componentWillUpdate\n//新增关键getSnapshotBeforeUpdate 、getDerivedStateFromProps\n\nvar Greeting =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Greeting, _Component);\n\n  function Greeting() {\n    _classCallCheck(this, Greeting);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Greeting).apply(this, arguments));\n  }\n\n  _createClass(Greeting, [{\n    key: \"render\",\n    value: function render() {\n      return \"详情见文件夹图片\";\n    }\n  }]);\n\n  return Greeting;\n}(Component);\n\nexport default Greeting;\n/**\n * dom渲染前保存了快照 一变后续使用\n */\n//   getSnapshotBeforeUpdate(prevProps, prevState) {\n//     // 保存滚动位置的快照\n//     if (prevProps.list.length < this.props.list.length) {\n//       const list = this.listRef.current;\n//       return list.scrollHeight - list.scrollTop;\n//     }\n//     return null;\n//   }\n//   componentDidUpdate(prevProps, prevState, snapshot) {\n//     // 如果有快照的值，说明已经增加的新的项.\n//     // 调整滚动位置使得新的项不会挤走老的项\n//     // 快照是从getSnapshotBeforeUpdate返回出来的\n//     if (snapshot !== null) {\n//       const list = this.listRef.current;\n//       list.scrollTop = list.scrollHeight - snapshot;\n//     }\n//   }\n//=======================================\n//React 15.X 初始化和更新分别写在constructor和componentWillReceiveProps.\n// class Parent extends Component{\n//     render(){\n//         return (\n//         <Child age={18} />\n//         )\n//     }\n// }\n// class Child extends Components{\n//     constructor(props){\n//         super(props);\n//         this.state = {\n//             age: this.props.age //装载阶段初始化state\n//         }\n//     }\n//     componentWillReceiveProps(nextProps){\n//         if(nextProps.age !== this.state.age){\n//             this.setState({\n//                 age: nextProps.age\n//             }) // 修改state\n//         }\n//     }\n//     render(){...}\n// }\n//===========react16============\n// constructor(props){\n//     super(props);\n//     this.state = {\n//         age: ''\n//     }\n// }\n// static getDerivedStateFromProps(nextProps,prevState){\n//     if(nextProps.age !== prevState.age){\n//         return {\n//             age: nextProps.age\n//         }\n//     }\n//     return null;\n// }","map":{"version":3,"sources":["/Users/sf/Desktop/zcy/hooksdemo/src/demos/lifecycle/index.jsx"],"names":["Component","Greeting"],"mappings":";;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B,C,CACA;AACA;;IACMC,Q;;;;;;;;;;;;;6BACK;AACP,aAAO,UAAP;AACD;;;;EAHoBD,S;;AAKvB,eAAeC,QAAf;AAEE;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { Component } from \"react\";\n//废弃componentWillMount, componentWillReceiveProps, componentWillUpdate\n//新增关键getSnapshotBeforeUpdate 、getDerivedStateFromProps\nclass Greeting extends Component {\n  render() {\n    return \"详情见文件夹图片\";\n  }\n}\nexport default Greeting;\n\n  /**\n   * dom渲染前保存了快照 一变后续使用\n   */\n  //   getSnapshotBeforeUpdate(prevProps, prevState) {\n  //     // 保存滚动位置的快照\n  //     if (prevProps.list.length < this.props.list.length) {\n  //       const list = this.listRef.current;\n  //       return list.scrollHeight - list.scrollTop;\n  //     }\n  //     return null;\n  //   }\n\n  //   componentDidUpdate(prevProps, prevState, snapshot) {\n  //     // 如果有快照的值，说明已经增加的新的项.\n  //     // 调整滚动位置使得新的项不会挤走老的项\n  //     // 快照是从getSnapshotBeforeUpdate返回出来的\n  //     if (snapshot !== null) {\n  //       const list = this.listRef.current;\n  //       list.scrollTop = list.scrollHeight - snapshot;\n  //     }\n  //   }\n\n//=======================================\n\n//React 15.X 初始化和更新分别写在constructor和componentWillReceiveProps.\n// class Parent extends Component{\n//     render(){\n//         return (\n//         <Child age={18} />\n//         )\n//     }\n// }\n// class Child extends Components{\n//     constructor(props){\n//         super(props);\n//         this.state = {\n//             age: this.props.age //装载阶段初始化state\n//         }\n//     }\n//     componentWillReceiveProps(nextProps){\n//         if(nextProps.age !== this.state.age){\n//             this.setState({\n//                 age: nextProps.age\n//             }) // 修改state\n//         }\n//     }\n//     render(){...}\n// }\n//===========react16============\n// constructor(props){\n//     super(props);\n//     this.state = {\n//         age: ''\n//     }\n// }\n// static getDerivedStateFromProps(nextProps,prevState){\n//     if(nextProps.age !== prevState.age){\n//         return {\n//             age: nextProps.age\n//         }\n//     }\n//     return null;\n// }"]},"metadata":{},"sourceType":"module"}